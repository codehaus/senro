<?xml version="1.0" encoding="UTF-8"?>
<ComponentTemplate xmlns="http://www.siveco.ro/senro/ComponentTemplate" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.siveco.ro/senro/ComponentTemplate file:///c:/work/SENRO_SIVECO/senro-core/src/resources/ComponentTemplate.xsd">
    <Layout>
        <Grid id="SimpleList" name="SimpleList">
            <Columns>default:grow</Columns>
            <Rows>default, 3dlu, fill:default:grow(0.8), 3dlu, fill:default:grow(0.2)</Rows>
            
            <Components>
                <Label col="1" colSpan="1" halign="Center" id="lblTitle" name="lblTitle" row="1" rowSpan="1" valign="Default">
                    <Text>@{entity.name}</Text>
                </Label>
				
				<Table columnList="@{entity.properties}" col="1" colSpan="1" halign="Default" id="list" name="list" row="3" rowSpan="1" valign="Default">
				</Table>
            
            <Grid id="buttonGrid" name="buttonGrid" col="1" colSpan="1" row="5" rowSpan="1" halign="Default" valign="Default">
                <Columns>2*(fill:5dlu:grow(0.33), 3dlu), fill:5dlu:grow(0.33)</Columns>
                <Rows>center:default</Rows>                
                <Components>
             	  <Button col="1" colSpan="1" halign="Center" id="btnNew" name="btnNew" row="1" rowSpan="1" valign="Default">
                    <Label>New</Label>
                    <Panel id="SimpleList" stack="push" editingContext="substitute"/>
             	  </Button>
             	  <Button col="3" colSpan="1" halign="Center" id="btnEdit" name="btnEdit" row="1" rowSpan="1" valign="Default">
                    <Label>Edit</Label>
                    <Panel id="SimpleList" stack="push" editingContext="substitute"/>
         	      </Button>
             	  <Button col="5" colSpan="1" halign="Center" id="btnDelete" name="btnDelete" row="1" rowSpan="1" valign="Default">
                    <Label>Delete</Label>
             	  </Button>
                </Components>
         	</Grid>
         </Components>
        </Grid>
    </Layout>
    <Server/>

    <Client>
		<DisplayGroup id="displayGroup" name="displayGroup" entity="@{entity.qualifiedName}" master="true" />
	</Client>

    <Params>
		<Parameter defaultValue="@{metadata.getMetadata(senroContext.get(senroContext.MAIN_ENTITY))}" name="entity" type="org.senro.metadata.MetadataClass"/>
    </Params>

    <Associations>
			<Assoc id="assoc1" name="assoc1" type="org.senro.gwt.client.assoc.impl.TableAssoc">
				<binding name="table" value="list">
					<aspect name="auto" value="true" />
				</binding>
				<binding name="displayGroup" value="displayGroup" />
			</Assoc>

			<Assoc id="assoc2" name="assoc2" type="org.senro.gwt.client.assoc.impl.ServerActionAssoc">
				<binding name="button" value="btnNew">
					<aspect name="context" value="senroContext" />
				</binding>

				<binding name="displayGroup" value="displayGroup">
					<aspect name="displayGroupAction" value="insert" />
				</binding>
			</Assoc>
			
			<Assoc id="assoc3" name="assoc3" type="org.senro.gwt.client.assoc.impl.ServerActionAssoc">
				<binding name="button" value="btnEdit">
					<aspect name="context" value="senroContext" />
				</binding>

				<binding name="displayGroup" value="displayGroup">
					<aspect name="displayGroupAction" value="edit" />
				</binding>
			</Assoc>
			
			<Assoc id="assoc4" name="assoc4" type="org.senro.gwt.client.assoc.impl.ServerActionAssoc">
				<binding name="button" value="btnDelete">
					<aspect name="context" value="senroContext" />
				</binding>

				<binding name="displayGroup" value="displayGroup">
					<aspect name="displayGroupAction" value="delete" />
				</binding>
			</Assoc>
			
	</Associations>
</ComponentTemplate>
